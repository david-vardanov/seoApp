<% layout('layout') %>

<div class="container my-5">
  <h1 class="text-center mb-4">SEO Analysis Result</h1>
  <button id="downloadReport" class="btn btn-primary my-3">
    Download Report
  </button>

  <div class="card">
    <div class="card-body">
      <h2 class="card-title">URL</h2>
      <p class="card-text">
        <a href="<%= analysis.url %>" target="_blank"><%= analysis.url %></a>
      </p>

      <ul class="nav nav-tabs" id="seoTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="meta-tab"
            data-bs-toggle="tab"
            data-bs-target="#meta"
            type="button"
            role="tab"
            aria-controls="meta"
            aria-selected="true"
          >
            Meta Tags
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="content-tab"
            data-bs-toggle="tab"
            data-bs-target="#content"
            type="button"
            role="tab"
            aria-controls="content"
            aria-selected="false"
          >
            Content
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="links-tab"
            data-bs-toggle="tab"
            data-bs-target="#links"
            type="button"
            role="tab"
            aria-controls="links"
            aria-selected="false"
          >
            Links
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="performance-tab"
            data-bs-toggle="tab"
            data-bs-target="#performance"
            type="button"
            role="tab"
            aria-controls="performance"
            aria-selected="false"
          >
            Performance
          </button>
        </li>
      </ul>

      <div class="tab-content" id="seoTabsContent">
        <div
          class="tab-pane fade show active"
          id="meta"
          role="tabpanel"
          aria-labelledby="meta-tab"
        >
          <%- include('./resultTabs/meta', { analysis: analysis }) %>
        </div>
        <div
          class="tab-pane fade"
          id="content"
          role="tabpanel"
          aria-labelledby="content-tab"
        >
          <%- include('./resultTabs/content', { analysis: analysis }) %>
        </div>
        <div
          class="tab-pane fade"
          id="links"
          role="tabpanel"
          aria-labelledby="links-tab"
        >
          <%- include('./resultTabs/links', { paginatedLinks: paginatedLinks,
          url: analysis.url }) %>
        </div>
        <div
          class="tab-pane fade"
          id="performance"
          role="tabpanel"
          aria-labelledby="performance-tab"
        >
          <%- include('./resultTabs/performance', { analysis: analysis }) %>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="/js/pagination.js"></script>
<script src="/js/performance.js"></script>
<script src="/js/report.js"></script>
